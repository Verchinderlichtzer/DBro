// <auto-generated />
using System;
using DBro.API;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace DBro.API.Migrations
{
    [DbContext(typeof(AppDbContext))]
    [Migration("20240607032331_First")]
    partial class First
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.5")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("DBro.Shared.Models.Aktivitas", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<byte>("Entitas")
                        .HasColumnType("tinyint");

                    b.Property<string>("IdEntitas")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<byte>("JenisLog")
                        .HasColumnType("tinyint");

                    b.Property<DateTime>("Tanggal")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("Email");

                    b.ToTable("Aktivitas");
                });

            modelBuilder.Entity("DBro.Shared.Models.DetailPesanan", b =>
                {
                    b.Property<string>("IdPesanan")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("IdMenu")
                        .HasColumnType("nvarchar(450)");

                    b.Property<decimal>("Diskon")
                        .HasPrecision(5, 2)
                        .HasColumnType("decimal(5,2)");

                    b.Property<int>("Harga")
                        .HasColumnType("int");

                    b.Property<int?>("IdVarianMenu")
                        .HasColumnType("int");

                    b.Property<int>("Jumlah")
                        .HasColumnType("int");

                    b.Property<int>("Subtotal")
                        .HasColumnType("int");

                    b.HasKey("IdPesanan", "IdMenu");

                    b.HasIndex("IdMenu");

                    b.HasIndex("IdVarianMenu");

                    b.ToTable("DetailPesanan");
                });

            modelBuilder.Entity("DBro.Shared.Models.Diskon", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("IdMenu")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<decimal>("Nilai")
                        .HasPrecision(5, 2)
                        .HasColumnType("decimal(5,2)");

                    b.Property<DateTime?>("TanggalAkhir")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("TanggalMulai")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("IdMenu")
                        .IsUnique();

                    b.ToTable("Diskon");
                });

            modelBuilder.Entity("DBro.Shared.Models.Menu", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<byte[]>("Gambar")
                        .HasColumnType("varbinary(max)");

                    b.Property<int>("Harga")
                        .HasColumnType("int");

                    b.Property<byte>("JenisMenu")
                        .HasColumnType("tinyint");

                    b.Property<string>("Nama")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Menu");

                    b.HasData(
                        new
                        {
                            Id = "M-0001",
                            Harga = 7000,
                            JenisMenu = (byte)1,
                            Nama = "Sayap"
                        },
                        new
                        {
                            Id = "M-0002",
                            Harga = 8000,
                            JenisMenu = (byte)1,
                            Nama = "Paha Bawah"
                        },
                        new
                        {
                            Id = "M-0003",
                            Harga = 10000,
                            JenisMenu = (byte)1,
                            Nama = "Dada"
                        },
                        new
                        {
                            Id = "M-0004",
                            Harga = 10000,
                            JenisMenu = (byte)1,
                            Nama = "Paha Atas"
                        },
                        new
                        {
                            Id = "M-0005",
                            Harga = 10500,
                            JenisMenu = (byte)2,
                            Nama = "DBRO 1 Sayap + Nasi"
                        },
                        new
                        {
                            Id = "M-0006",
                            Harga = 11500,
                            JenisMenu = (byte)2,
                            Nama = "DBRO 2 Paha Bawah + Nasi"
                        },
                        new
                        {
                            Id = "M-0007",
                            Harga = 13000,
                            JenisMenu = (byte)2,
                            Nama = "DBRO 3 Dada / Paha Atas + Nasi"
                        },
                        new
                        {
                            Id = "M-0008",
                            Harga = 10000,
                            JenisMenu = (byte)3,
                            Nama = "Spaghetti"
                        },
                        new
                        {
                            Id = "M-0009",
                            Harga = 8000,
                            JenisMenu = (byte)4,
                            Nama = "DBRO Burger"
                        },
                        new
                        {
                            Id = "M-0010",
                            Harga = 10500,
                            JenisMenu = (byte)4,
                            Nama = "DBRO Reguler"
                        },
                        new
                        {
                            Id = "M-0011",
                            Harga = 12000,
                            JenisMenu = (byte)4,
                            Nama = "DBRO Chiz"
                        },
                        new
                        {
                            Id = "M-0012",
                            Harga = 13000,
                            JenisMenu = (byte)4,
                            Nama = "DBRO Premium"
                        },
                        new
                        {
                            Id = "M-0013",
                            Harga = 15000,
                            JenisMenu = (byte)4,
                            Nama = "DBRO Premium Chiz"
                        },
                        new
                        {
                            Id = "M-0014",
                            Harga = 9000,
                            JenisMenu = (byte)5,
                            Nama = "DBROsis"
                        },
                        new
                        {
                            Id = "M-0015",
                            Harga = 17000,
                            JenisMenu = (byte)5,
                            Nama = "DBROsis + Kentang + Minum*"
                        },
                        new
                        {
                            Id = "M-0016",
                            Harga = 13000,
                            JenisMenu = (byte)6,
                            Nama = "Sayhot Dada"
                        },
                        new
                        {
                            Id = "M-0017",
                            Harga = 10000,
                            JenisMenu = (byte)6,
                            Nama = "Sayhot Sayap"
                        },
                        new
                        {
                            Id = "M-0018",
                            Harga = 11000,
                            JenisMenu = (byte)6,
                            Nama = "Sayhot Paha Bawah"
                        },
                        new
                        {
                            Id = "M-0019",
                            Harga = 21000,
                            JenisMenu = (byte)7,
                            Nama = "Tteokbokki Reguler"
                        },
                        new
                        {
                            Id = "M-0020",
                            Harga = 30000,
                            JenisMenu = (byte)7,
                            Nama = "Tteokbokki Medium"
                        },
                        new
                        {
                            Id = "M-0021",
                            Harga = 40000,
                            JenisMenu = (byte)7,
                            Nama = "Tteokbokki Large"
                        },
                        new
                        {
                            Id = "M-0022",
                            Harga = 11000,
                            JenisMenu = (byte)8,
                            Nama = "Sayap Sambal Merah"
                        },
                        new
                        {
                            Id = "M-0023",
                            Harga = 12000,
                            JenisMenu = (byte)8,
                            Nama = "Paha Bawah Sambal Merah"
                        },
                        new
                        {
                            Id = "M-0024",
                            Harga = 13000,
                            JenisMenu = (byte)1,
                            Nama = "Kulit"
                        },
                        new
                        {
                            Id = "M-0025",
                            Harga = 3000,
                            JenisMenu = (byte)9,
                            Nama = "Prima"
                        },
                        new
                        {
                            Id = "M-0026",
                            Harga = 4000,
                            JenisMenu = (byte)9,
                            Nama = "Teh Botol Sosro"
                        },
                        new
                        {
                            Id = "M-0027",
                            Harga = 4000,
                            JenisMenu = (byte)9,
                            Nama = "S-tee"
                        },
                        new
                        {
                            Id = "M-0028",
                            Harga = 5500,
                            JenisMenu = (byte)9,
                            Nama = "Nestle Orange"
                        },
                        new
                        {
                            Id = "M-0029",
                            Harga = 6000,
                            JenisMenu = (byte)9,
                            Nama = "Milo"
                        });
                });

            modelBuilder.Entity("DBro.Shared.Models.Pesanan", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("Bayar")
                        .HasColumnType("int");

                    b.Property<string>("Email")
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("Potongan")
                        .HasColumnType("int");

                    b.Property<byte>("StatusPesanan")
                        .HasColumnType("tinyint");

                    b.Property<int>("Subtotal")
                        .HasColumnType("int");

                    b.Property<DateTime?>("Tanggal")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("Email");

                    b.ToTable("Pesanan");
                });

            modelBuilder.Entity("DBro.Shared.Models.Promo", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("IdMenuDibeli")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("IdMenuDidapat")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<int>("JumlahDibeli")
                        .HasColumnType("int");

                    b.Property<int>("JumlahDidapat")
                        .HasColumnType("int");

                    b.Property<DateTime?>("TanggalAkhir")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("TanggalMulai")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("IdMenuDibeli")
                        .IsUnique();

                    b.HasIndex("IdMenuDidapat")
                        .IsUnique();

                    b.ToTable("Promo");
                });

            modelBuilder.Entity("DBro.Shared.Models.User", b =>
                {
                    b.Property<string>("Email")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Alamat")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<byte>("JenisKelamin")
                        .HasColumnType("tinyint");

                    b.Property<byte>("JenisUser")
                        .HasColumnType("tinyint");

                    b.Property<string>("Nama")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Password")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("TanggalLahir")
                        .HasColumnType("datetime2");

                    b.Property<string>("Telepon")
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Email");

                    b.HasIndex("Telepon")
                        .IsUnique()
                        .HasFilter("[Telepon] IS NOT NULL");

                    b.ToTable("User");

                    b.HasData(
                        new
                        {
                            Email = "sujudihanif36@gmail.com",
                            Alamat = "Perumahan Bumi Anggrek Blok K No 80",
                            JenisKelamin = (byte)1,
                            JenisUser = (byte)0,
                            Nama = "Sujudi Hanif",
                            Password = "IvCkErOjG9A8DPW7X23rJg==",
                            TanggalLahir = new DateTime(2002, 6, 11, 0, 0, 0, 0, DateTimeKind.Unspecified),
                            Telepon = "085739194810"
                        });
                });

            modelBuilder.Entity("DBro.Shared.Models.VarianMenu", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<int>("Harga")
                        .HasColumnType("int");

                    b.Property<string>("IdMenu")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.Property<byte>("JenisVarian")
                        .HasColumnType("tinyint");

                    b.Property<string>("Nama")
                        .IsRequired()
                        .HasColumnType("nvarchar(450)");

                    b.HasKey("Id");

                    b.HasIndex("IdMenu");

                    b.HasIndex("Nama")
                        .IsUnique();

                    b.ToTable("VarianMenu");
                });

            modelBuilder.Entity("DBro.Shared.Models.Aktivitas", b =>
                {
                    b.HasOne("DBro.Shared.Models.User", "User")
                        .WithMany("Aktivitas")
                        .HasForeignKey("Email")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("DBro.Shared.Models.DetailPesanan", b =>
                {
                    b.HasOne("DBro.Shared.Models.Menu", "Menu")
                        .WithMany("DetailPesanan")
                        .HasForeignKey("IdMenu")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DBro.Shared.Models.Pesanan", "Pesanan")
                        .WithMany("DetailPesanan")
                        .HasForeignKey("IdPesanan")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("DBro.Shared.Models.VarianMenu", "VarianMenu")
                        .WithMany("DetailPesanan")
                        .HasForeignKey("IdVarianMenu");

                    b.Navigation("Menu");

                    b.Navigation("Pesanan");

                    b.Navigation("VarianMenu");
                });

            modelBuilder.Entity("DBro.Shared.Models.Diskon", b =>
                {
                    b.HasOne("DBro.Shared.Models.Menu", "Menu")
                        .WithOne("Diskon")
                        .HasForeignKey("DBro.Shared.Models.Diskon", "IdMenu")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Menu");
                });

            modelBuilder.Entity("DBro.Shared.Models.Pesanan", b =>
                {
                    b.HasOne("DBro.Shared.Models.User", "User")
                        .WithMany("Pesanan")
                        .HasForeignKey("Email");

                    b.Navigation("User");
                });

            modelBuilder.Entity("DBro.Shared.Models.Promo", b =>
                {
                    b.HasOne("DBro.Shared.Models.Menu", "MenuDibeli")
                        .WithOne("PromoDibeli")
                        .HasForeignKey("DBro.Shared.Models.Promo", "IdMenuDibeli")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("DBro.Shared.Models.Menu", "MenuDidapat")
                        .WithOne("PromoDidapat")
                        .HasForeignKey("DBro.Shared.Models.Promo", "IdMenuDidapat")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("MenuDibeli");

                    b.Navigation("MenuDidapat");
                });

            modelBuilder.Entity("DBro.Shared.Models.VarianMenu", b =>
                {
                    b.HasOne("DBro.Shared.Models.Menu", "Menu")
                        .WithMany("VarianMenu")
                        .HasForeignKey("IdMenu")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Menu");
                });

            modelBuilder.Entity("DBro.Shared.Models.Menu", b =>
                {
                    b.Navigation("DetailPesanan");

                    b.Navigation("Diskon")
                        .IsRequired();

                    b.Navigation("PromoDibeli")
                        .IsRequired();

                    b.Navigation("PromoDidapat")
                        .IsRequired();

                    b.Navigation("VarianMenu");
                });

            modelBuilder.Entity("DBro.Shared.Models.Pesanan", b =>
                {
                    b.Navigation("DetailPesanan");
                });

            modelBuilder.Entity("DBro.Shared.Models.User", b =>
                {
                    b.Navigation("Aktivitas");

                    b.Navigation("Pesanan");
                });

            modelBuilder.Entity("DBro.Shared.Models.VarianMenu", b =>
                {
                    b.Navigation("DetailPesanan");
                });
#pragma warning restore 612, 618
        }
    }
}
